<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%> <%	String path = request.getContextPath();	String basePath = request.getScheme() + "://"			+ request.getServerName() + ":" + request.getServerPort()			+ path + "/"; %><%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%><%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt"%><!DOCTYPE html><html>  <head>    <c:choose>    	<c:when test="${user.userTypeId==4}">    		<title>${loginBean.eName} - Student Information</title>    	</c:when>    	<c:otherwise><title>${loginBean.cName} - 学生详细信息</title></c:otherwise>    </c:choose>    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport" />    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />    <base href="<%=basePath%>" />   <style media="screen">      .updateBtn{        width: 49px; height: 30px; margin: 0px; line-height: 15px;      }    </style>  </head>  <body class="contrast-red">    <%@ include file="/common/res.jsp" %>    <!-- 引入header头部 -->    <%@ include file="/common/header.jsp" %>
    <div id="wrapper">      <div id="main-nav-bg"></div>      <nav class="" id="main-nav">        <div class="navigation">          <div class="search">            <form accept-charset="UTF-8" action="search_results.html" method="get" /><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>              <div class="search-wrapper">                <input autocomplete="off" class="search-query" id="q" name="q" placeholder="Search..." type="text" value="" />                <button class="btn btn-link icon-search" name="button" type="submit"></button>              </div>            </form>          </div>          <ul class="nav nav-stacked">          </ul>        </div>      </nav>      <section id="content">        <div class="container-fluid">          <div class="row-fluid" id="content-wrapper">            <div class="span12">              <div class="page-header">                <h1 class="pull-left">                  <i class="icon-user"></i>                  <c:choose>                  	<c:when test="${user.userTypeId==4}"><span>Student Information</span></c:when>                  	<c:otherwise><span>学生信息</span></c:otherwise>                  </c:choose>                </h1>              </div>                            <div class="row-fluid">                <button class="btnNisal" id="updateBtn">                 <c:choose>                  	<c:when test="${user.userTypeId==4}">Edit Information</c:when>                  	<c:otherwise>修改</c:otherwise>                  </c:choose>                </button>              </div>                                          <div class="row-fluid" id="updateForm" style="display: none;">              <hr class="hr-double">                <div class="span12 box bordered-box orange-border" style="margin-bottom:0;">                  <div class="box-header purple-background">                    <div class="title"><b>                    <c:choose>                  	   <c:when test="${user.userTypeId==4}">Information Update</c:when>                  	   <c:otherwise>信息修改</c:otherwise>                    </c:choose>                    </b></div>                    <div class="actions">                      <a href="#" class="btn box-collapse btn-mini btn-link"><i></i></a>                    </div>                  </div>                  <div class="box-content box-no-padding">                    <form accept-charset="UTF-8" action="${pageContext.request.contextPath}/studentInfo.html?type=update" enctype="multipart/form-data" class="form form-horizontal" method="post" style="margin-bottom: 0;" />                    <div style="margin:0;padding:0;display:inline">                   <input type="hidden" name="userId" value="${student.userId}"/>                    </div>                      <!-- 这里要在value输出学生的唯一标识符 -->                      <input type="hidden" value="" id="oid">                      <c:if test="${user.userTypeId==1 or user.userTypeId==2}">                      <div class="control-group" style="margin-top: 20px;">                        <label class="control-label" for="inputText1">姓名</label>                        <div class="controls">                          <input id="newName" name="fullName" placeholder="姓名" type="text" />                        </div>                      </div>                      <div class="control-group">                        <label class="control-label" for="inputPassword4">学号</label>                        <div class="controls">                          <input id="newID" name="studentNumber" placeholder="学号" type="text" />                        </div>                      </div>                      </c:if>                      <div class="control-group">                        <label class="control-label" for="inputPassword4">E-MAIL</label>                        <div class="controls">                          <input id="newEMail" name="email" placeholder="E-MAIL" type="text" />                        </div>                      </div>                      <c:if test="${user.userTypeId==1 or user.userTypeId==2}">                      <div class="control-group">                        <label class="control-label">性别</label>                        <div class="controls">                          <label class="radio inline">                            <input type="radio" value="0" name="gender" class="newSex" id="male" checked=""/> 男                          </label>                          <label class="radio inline">                            <input type="radio" value="1" name="gender" class="newSex" id="female"/> 女                          </label>                        </div>                      </div>                      <div class="control-group">                        <label class="control-label" for="inputPassword4" id="">国籍</label>                        <div class="controls">                          <select class='select2 input-block-level' name="nationalityId" style="width: 216px;" id="newCountry">                          </select>                        </div>                      </div>                      <div class="control-group">                        <label class="control-label" for="inputPassword4">国内手机号</label>                        <div class="controls">                          <input id="newAdjectivePhone" name="adjectivePhone" placeholder="国内手机号" type="text" />                        </div>                      </div>                      <div class="control-group">                        <label class="control-label" for="inputPassword4">海外手机号</label>                        <div class="controls">                          <input id="newOverseasPhone" name="overseasPhone" placeholder="海外手机号" type="text" />                        </div>                      </div>                                            <div class="control-group">                        <label class="control-label" for="inputPassword4">出生日期</label>                        <div class="controls">                          <div class="datepicker input-append" id="datepicker">                            <input class="input-medium" data-format="yyyy-MM-dd" name="birthday" placeholder="出生日期" type="text" id="newBirthday"/>                            <span class="add-on">                              <i data-date-icon="icon-calendar" data-time-icon="icon-time"></i>                            </span>                          </div>                        </div>                      </div>                      <div class="control-group">                        <label class="control-label" for="inputPassword4">出生地</label>                        <div class="controls">                          <input id="newBirthPlace" name="birthplace" placeholder="出生地" type="text" />                        </div>                      </div>                      <div class="control-group">                        <label class="control-label" for="inputPassword4">家庭住址</label>                        <div class="controls">                          <input id="newHome" name="homeAddress" placeholder="家庭住址" type="text" />                        </div>                      </div>                      <div class="control-group">                        <label class="control-label" for="inputPassword4">电话</label>                        <div class="controls">                          <input id="newTel" placeholder="电话" type="text" />                        </div>                      </div>                      <hr class="hr-normal" />                      <div class="control-group">                        <label class="control-label" for="inputSelect">学院</label>                        <div class="controls">                          <select class='select2 input-block-level' name="academyId" id="newCoggle" style="width: 216px;">                          </select>                        </div>                      </div>                      <div class="control-group">                        <label class="control-label" for="inputSelect" id="">专业</label>                        <div class="controls">                          <select class='select2 input-block-level' name="majorId" id="newMajor" style="width: 216px;">                          </select>                        </div>                      </div>                      <div class="control-group">                        <label class="control-label" for="inputSelect">班级</label>                        <div class="controls">                          <select id="newClass" class='select2 input-block-level' name="classId" style="width: 216px;">                          </select>                        </div>                      </div>                      </c:if>                      <div class="control-group">                        <label class="control-label" for="inputPassword4">宿舍地址</label>                        <div class="controls">                          <input id="newBedroom" name="dormitoryNumber" placeholder="宿舍地址" type="text" value="123" />                        </div>                      </div>                      <c:if test="${user.userTypeId==1 or user.userTypeId==2}">                      <div class="control-group">                        <label class="control-label" for="inputPassword4">护照号</label>                        <div class="controls">                          <input id="newPassport" name="passportNumber" placeholder="护照号" type="text" />                        </div>                      </div>                      <div class="control-group">                        <label class="control-label" for="inputPassword4">入校日期</label>                        <div class="controls">                          <div class="datepicker input-append" id="datepicker">                            <input class="input-medium" id="newInSchoolTime" name="startDate" data-format="yyyy-MM-dd" placeholder="入校日期" type="text" />                            <span class="add-on">                              <i data-date-icon="icon-calendar" data-time-icon="icon-time"></i>                            </span>                          </div>                        </div>                      </div>                      <div class="control-group">                        <label class="control-label" for="inputPassword4">毕业时间</label>                        <div class="controls">                          <div class="datepicker input-append" id="">                            <input class="input-medium" id="newGraduationTime" name="endDate" data-format="yyyy-MM-dd" placeholder="毕业时间" type="text" />                            <span class="add-on">                              <i data-date-icon="icon-calendar" data-time-icon="icon-time"></i>                            </span>                          </div>                        </div>                      </div>                      <div class="control-group">                        <label class="control-label" for="inputPassword4">中介单位名</label>                        <div class="controls">                          <input id="newAgent" name="intermediaryName" placeholder="中介单位名" type="text" />                        </div>                      </div>                      <div class="control-group">                        <label class="control-label" for="inputPassword4">中介手机号</label>                        <div class="controls">                          <input id="newAgentPhone" name="intermediaryPhone" placeholder="中介手机号" type="text" />                        </div>                      </div>                      <div class="control-group">                        <label class="control-label" for="inputPassword4">担保人姓名</label>                        <div class="controls">                          <select id="guaranteeId" name="guaranteeId" class='select2 input-block-level' style="width: 216px;">                          	                          </select>                        </div>                      </div>                      <div class="control-group">                        <label class="control-label" for="inputPassword4">注册截止时间</label>                        <div class="controls">                          <div class="datepicker input-append" id="">                            <input id="newRegTimeLine" name="registerDeadLine" class="input-medium" data-format="yyyy-MM-dd" placeholder="注册截止时间" type="text" />                            <span class="add-on">                              <i data-date-icon="icon-calendar" data-time-icon="icon-time"></i>                            </span>                          </div>                        </div>                      </div>                      <div class="control-group">                        <label class="control-label" for="inputPassword4">签证到期时间</label>                        <div class="controls">                          <div class="datepicker input-append" id="">                            <input id="newVisaTimeLine" name="visaDueDate" class="input-medium" data-format="yyyy-MM-dd" placeholder="签证到期事件" type="text" />                            <span class="add-on">                              <i data-date-icon="icon-calendar" data-time-icon="icon-time"></i>                            </span>                          </div>                        </div>                      </div>                      <hr class="hr-normal" />                      <div class="control-group">                        <label class="control-label" for="inputPassword4">一卡通号</label>                        <div class="controls">                          <input id="newECardNumber" name="cardNumber" placeholder="一卡通号" type="text" />                        </div>                      </div>                      <div class="control-group">                        <label class="control-label" for="inputSelect">婚姻状况</label>                        <div class="controls">                          <select id="newMarriage" name="isMarried" class='select2 input-block-level' style="width: 216px;">                          	<option value="2">未婚</option>                          	<option value="1">已婚</option>                          </select>                        </div>                      </div>                      <div class="control-group">                        <label class="control-label" for="inputSelect">学历</label>                        <div class="controls">                          <select id="newAcademic" name="educationTypeId" class='select2 input-block-level' style="width: 216px;">                          </select>                        </div>                      </div>                      <hr class="hr-normal" />                      <div class="control-group">                        <label class="control-label" for="inputPassword4">状态</label>                        <div class="controls">                          <select id="newState" name="rollStatusTypeId" class='select2 input-block-level' style="width: 216px;">                          </select>                        </div>                      </div>                      					  <hr class="hr-normal" />                      <div class="control-group">                        <label class="control-label" for="inputPassword4">添加护照</label>                        <div class="controls">                          <input type="file" name="passportPage1" title="添加">                        </div>                      </div>                      </c:if>                      <div class="control-group">                        <label class="control-label" for="inputPassword4">添加入境页</label>                        <div class="controls">                          <input type="file" name="passportPage2" title="添加">                        </div>                      </div>                                            <div class="control-group">                        <label class="control-label" for="inputPassword4">添加签证页</label>                        <div class="controls">                          <input type="file" name="passportPage3" title="添加">                        </div>                      </div>                      <div class="form-actions">                        <button class="btn btn-primary" type="submit" id="add">                          <i class="icon-save"></i>                          <b>                          <c:choose>                          	<c:when test="${user.userTypeId==4}">Save</c:when>                          	<c:otherwise>保存</c:otherwise>                          </c:choose>                          </b>                        </button>                      </div>                    </form>                  </div>                </div>              </div>                            <hr class="hr-double">              <div class="row-fluid" id="studentInfoTable">                <div class="span12 box bordered-box blue-border" style="margin-bottom:0;">                  <div class="box-header purple-background">                    <div class="title">                      <c:choose>                    	<c:when test="${user.userTypeId==4}"><b>Information of ${user.fullName}</b></c:when>                    	<c:otherwise><b>${student.fullName}的信息</b></c:otherwise>                      </c:choose>                    </div>                    <div class="actions">                      <a href="#" class="btn box-collapse btn-mini btn-link"><i></i></a>                    </div>                  </div>                  <div class="box-content box-no-padding infoBlock">                    <div class="col-md-outer">                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}"><span class="studentInfoItemTitle span5">Name</span></c:when>                           	<c:otherwise><span class="studentInfoItemTitle span5">姓名</span></c:otherwise>                           </c:choose>                           <span class="studentInfoItemSection span7" id="name">${student.fullName}</span>                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}"><span class="studentInfoItemTitle span5">Student ID</span></c:when>                           	<c:otherwise><span class="studentInfoItemTitle span5">学号</span></c:otherwise>                           </c:choose>                           <c:choose>                             <c:when test="${not empty student.schoolRoll}">                               <span class="studentInfoItemSection span7" id="id">${student.schoolRoll.cardNumber}</span>                             </c:when>                             <c:otherwise>                               <span class="studentInfoItemSection span7" id="id"></span>                             </c:otherwise>                           </c:choose>                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}"><span class="studentInfoItemTitle span5">E-MAIL</span></c:when>                           	<c:otherwise><span class="studentInfoItemTitle span5">邮箱</span></c:otherwise>                           </c:choose>                           <span class="studentInfoItemSection span7" id="email">${student.email}</span>                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}">                           		<span class="studentInfoItemTitle span5">Gender</span>                           		<c:choose>	                           		<c:when test="${student.gender==2}"><span class="studentInfoItemSection span7" id="sex">Female</span></c:when>	                           		<c:otherwise><span class="studentInfoItemSection span7" id="sex">Male</span></c:otherwise>	                            </c:choose>                           	</c:when>                           	<c:otherwise>                           		<span class="studentInfoItemTitle span5">性别</span>                           		<c:choose>	                           		<c:when test="${student.gender==2}"><span class="studentInfoItemSection span7" id="sex">女</span></c:when>	                           		<c:otherwise><span class="studentInfoItemSection span7" id="sex">男</span></c:otherwise>	                            </c:choose>                           	</c:otherwise>                           </c:choose>                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}">                           		<span class="studentInfoItemTitle span5">Country</span>                           		<c:choose>                           			<c:when test="${not empty student.identityOnUser and not empty student.identityOnUser.nationality}">                           				<span class="studentInfoItemSection span7" id="country">${student.identityOnUser.nationality.eName}</span>                           			</c:when>                           			<c:otherwise>                           			   <span class="studentInfoItemSection span7" id="country"></span>                           			</c:otherwise>                           		</c:choose>                           	</c:when>                           	<c:otherwise>                           	<span class="studentInfoItemTitle span5">国籍</span>                           		<c:choose>                           			<c:when test="${not empty student.identityOnUser and not empty student.identityOnUser.nationality}">                           				<span class="studentInfoItemSection span7" id="country">${student.identityOnUser.nationality.cName}</span>                           			</c:when>                           			<c:otherwise>                           			   <span class="studentInfoItemSection span7" id="country"></span>                           			</c:otherwise>                           		</c:choose>                           	</c:otherwise>                           </c:choose>                           <input type="hidden" id="countryVal" value="2">                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}"><span class="studentInfoItemTitle span5">Domestic Tel.</span></c:when>                           	<c:otherwise><span class="studentInfoItemTitle span5">国内手机号</span></c:otherwise>                           </c:choose>                           <span class="studentInfoItemSection span7" id="adjectivePhone">${student.phone}</span>                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}"><span class="studentInfoItemTitle span5">Overseas Tel.</span></c:when>                           	<c:otherwise><span class="studentInfoItemTitle span5">海外手机号</span></c:otherwise>                           </c:choose>                           <c:if test="${student.schoolRoll.studentTypeId==1}">                           <c:choose>                           	<c:when test="${not empty student.identityOnUser}">                           		<span class="studentInfoItemSection span7" id="overseasPhone">${student.identityOnUser.phone}</span>                           	</c:when>                           	<c:otherwise><span class="studentInfoItemSection span7" id="overseasPhone"></span></c:otherwise>                           </c:choose>                           </c:if>                         </div>                      </div>                                            <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}"><span class="studentInfoItemTitle span5">Birthday</span></c:when>                           	<c:otherwise><span class="studentInfoItemTitle span5">出生日期</span></c:otherwise>                           </c:choose>                           <c:choose>                           	<c:when test="${not empty student.identityOnUser}">                           		<span class="studentInfoItemSection span7" id="birthday">${student.identityOnUser.birthday}</span>                           	</c:when>                           	<c:otherwise><span class="studentInfoItemSection span7" id="birthday"></span></c:otherwise>                           </c:choose>                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}">                           		<span class="studentInfoItemTitle span5">Academy</span>                           		<c:choose>                           			<c:when test="${not empty student.amcOnUsers and not empty student.amcOnUsers.get(0) and not empty student.amcOnUsers.get(0).academy}">                           				<span class="studentInfoItemSection span7" id="coggle">${student.amcOnUsers.get(0).academy.eName}</span>                           			</c:when>                           			<c:otherwise><span class="studentInfoItemSection span7" id="coggle"></span></c:otherwise>                           		</c:choose>                           	</c:when>                           	<c:otherwise>                           		<span class="studentInfoItemTitle span5">学院</span>                           		<c:choose>                           			<c:when test="${not empty student.amcOnUsers and not empty student.amcOnUsers.get(0) and not empty student.amcOnUsers.get(0).academy}">                           				<span class="studentInfoItemSection span7" id="coggle">${student.amcOnUsers.get(0).academy.cName}</span>                           			</c:when>                           			<c:otherwise><span class="studentInfoItemSection span7" id="coggle"></span></c:otherwise>                           		</c:choose>                           	</c:otherwise>                           </c:choose>                           <input type="hidden" value="2" id="coggleVal">                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}">                           		<span class="studentInfoItemTitle span5">Major</span>                           		<c:choose>                           			<c:when test="${not empty student.amcOnUsers and not empty student.amcOnUsers.get(0) and not empty student.amcOnUsers.get(0).major}">                           				<span class="studentInfoItemSection span7" id="major">${student.amcOnUsers.get(0).major.eName}</span>                           			</c:when>                           			<c:otherwise><span class="studentInfoItemSection span7" id="major"></span></c:otherwise>                           		</c:choose>                           	</c:when>                           	<c:otherwise>                           		<span class="studentInfoItemTitle span5">专业</span>                           		<c:choose>                           			<c:when test="${not empty student.amcOnUsers and not empty student.amcOnUsers.get(0) and not empty student.amcOnUsers.get(0).major}">                           				<span class="studentInfoItemSection span7" id="major">${student.amcOnUsers.get(0).major.cName}</span>                           			</c:when>                           			<c:otherwise><span class="studentInfoItemSection span7" id="major"></span></c:otherwise>                           		</c:choose>                           	</c:otherwise>                           </c:choose>                           <input type="hidden" value="2" id="majorVal">                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}">                           		<span class="studentInfoItemTitle span5">Class</span>                           		<c:choose>                           			<c:when test="${not empty student.amcOnUsers and not empty student.amcOnUsers.get(0) and not empty student.amcOnUsers.get(0).cclass}">                           				<span class="studentInfoItemSection span7" id="class">${student.amcOnUsers.get(0).cclass.eName}</span>                           			</c:when>                           			<c:otherwise><span class="studentInfoItemSection span7" id="class"></span></c:otherwise>                           		</c:choose>                           	</c:when>                           	<c:otherwise>                           		<span class="studentInfoItemTitle span5">班级</span>                           		<c:choose>                           			<c:when test="${not empty student.amcOnUsers and not empty student.amcOnUsers.get(0) and not empty student.amcOnUsers.get(0).cclass}">                           				<span class="studentInfoItemSection span7" id="class">${student.amcOnUsers.get(0).cclass.cName}</span>                           			</c:when>                           			<c:otherwise><span class="studentInfoItemSection span7" id="class"></span></c:otherwise>                           		</c:choose>                           	</c:otherwise>                           </c:choose>                           <input type="hidden" value="2" id="classVal">                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}"><span class="studentInfoItemTitle span5">Dormitory Number</span></c:when>                           	<c:otherwise><span class="studentInfoItemTitle span5">寝室号</span></c:otherwise>                           </c:choose>                           <c:choose>                           	<c:when test="${not empty student.schoolRoll}">                           	 <span class="studentInfoItemSection span7" id="bedroom">${student.schoolRoll.dormitoryNumber}</span>                           	</c:when>                           	<c:otherwise><span class="studentInfoItemSection span7" id="bedroom"></span></c:otherwise>                           </c:choose>                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}"><span class="studentInfoItemTitle span5">Passport Number</span></c:when>                           	<c:otherwise><span class="studentInfoItemTitle span5">护照号</span></c:otherwise>                           </c:choose>                           <c:if test="${student.schoolRoll.studentTypeId==1}">                           <span class="studentInfoItemSection span7" id="passport">                           <%--<c:forEach items="${student.passportOnUsers}" var="passportOnUser"> --%>                           <%--<c:if test="${not empty passportOnUser.passport}">${passportOnUser.passport.passportNumber}</c:if> --%>                           <%--</c:forEach> --%>                           <c:if test="${not empty student.passportOnUsers and not empty student.passportOnUsers.get(0).passport}">${student.passportOnUsers.get(0).passport.passportNumber}</c:if>                           </span>                           </c:if>                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}"><span class="studentInfoItemTitle span5">Entrance Date</span></c:when>                           	<c:otherwise><span class="studentInfoItemTitle span5">入学时间</span></c:otherwise>                           </c:choose>                           <c:choose>                           	<c:when test="${not empty student.schoolRoll}">                           	 <span class="studentInfoItemSection span7" id="inSchoolTime">${student.schoolRoll.comeDate}</span>                           	</c:when>                           	<c:otherwise><span class="studentInfoItemSection span7" id="inSchoolTime"></span></c:otherwise>                           </c:choose>                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}"><span class="studentInfoItemTitle span5">Graduation Date</span></c:when>                           	<c:otherwise><span class="studentInfoItemTitle span5">毕业时间</span></c:otherwise>                           </c:choose>                           <c:choose>                            <c:when test="${not empty student.schoolRoll}">                              <span class="studentInfoItemSection span7" id="graduationTime">${student.schoolRoll.leaveDate}</span>                            </c:when>                            <c:otherwise><span class="studentInfoItemSection span7" id="graduationTime"></span></c:otherwise>                           </c:choose>                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}"><span class="studentInfoItemTitle span5">School Card Number</span></c:when>                           	<c:otherwise><span class="studentInfoItemTitle span5">一卡通号</span></c:otherwise>                           </c:choose>                           <c:choose>                           	<c:when test="${not empty student.schoolRoll}">                           		<span class="studentInfoItemSection span7" id="ecard">${student.schoolRoll.cardNumber}</span>                           	</c:when>                           	<c:otherwise><span class="studentInfoItemSection span7" id="ecard"></span></c:otherwise>                           </c:choose>                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}">                              <span class="studentInfoItemTitle span5">Marital Status</span>                              <c:choose>                                <c:when test="${student.identityOnUser.isMarried==1}">                                  <span class="studentInfoItemSection span7" id="marriage">Married</span>                                </c:when>                                <c:otherwise>                                  <span class="studentInfoItemSection span7" id="marriage">Single</span>                                </c:otherwise>                              </c:choose>                            </c:when>                           	<c:otherwise>                              <span class="studentInfoItemTitle span5">婚姻状况</span>                              <c:choose>                                <c:when test="${student.identityOnUser.isMarried==1}">                                  <span class="studentInfoItemSection span7" id="marriage">已婚</span>                                </c:when>                                <c:otherwise>                                  <span class="studentInfoItemSection span7" id="marriage">未婚</span>                                </c:otherwise>                              </c:choose>                            </c:otherwise>                           </c:choose>                           <input type="hidden" value="2" id="marriageVal">                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}">                           		<span class="studentInfoItemTitle span5">Education</span>                           		<c:choose>                           		 <c:when test="${not empty student.educationOnUser and not empty student.educationOnUser.educationType}">                           		 	<span class="studentInfoItemSection span7" id="academic">${student.educationOnUser.educationType.eName}</span>                           		 </c:when>                           		 <c:otherwise><span class="studentInfoItemSection span7" id="academic"></span></c:otherwise>                           		</c:choose>                           	</c:when>                           	<c:otherwise>                           		<span class="studentInfoItemTitle span5">学历</span>                           		<c:choose>                           		 <c:when test="${not empty student.educationOnUser and not empty student.educationOnUser.educationType}">                           		 	<span class="studentInfoItemSection span7" id="academic">${student.educationOnUser.educationType.cName}</span>                           		 </c:when>                           		 <c:otherwise><span class="studentInfoItemSection span7" id="academic"></span></c:otherwise>                           		</c:choose>                           	</c:otherwise>                           </c:choose>                           <input type="hidden" value="2" id="academicVal">                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}">                           		<span class="studentInfoItemTitle span5">Status</span>                           		<c:choose>                           		 <c:when test="${not empty student.schoolRoll and not empty student.schoolRoll.rollStatusType}">                           		  <span class="studentInfoItemSection span7" id="state">${student.schoolRoll.rollStatusType.eName}</span>                           		 </c:when>                           		 <c:otherwise><span class="studentInfoItemSection span7" id="state"></span></c:otherwise>                           		</c:choose>                           	</c:when>                           	<c:otherwise>                           		<span class="studentInfoItemTitle span5">学籍状态</span>                           		<c:choose>                           		 <c:when test="${not empty student.schoolRoll and not empty student.schoolRoll.rollStatusType}">                           		  <span class="studentInfoItemSection span7" id="state">${student.schoolRoll.rollStatusType.cName}</span>                           		 </c:when>                           		 <c:otherwise><span class="studentInfoItemSection span7" id="state"></span></c:otherwise>                           		</c:choose>                           	</c:otherwise>                           </c:choose>                           <input type="hidden" value="2" id="stateVal">                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}"><span class="studentInfoItemTitle span5">Place of Birth</span></c:when>                           	<c:otherwise><span class="studentInfoItemTitle span5">出生地</span></c:otherwise>                           </c:choose>                           <c:choose>                           	<c:when test="${not empty student.identityOnUser}">                           		<span class="studentInfoItemSection span7" id="birthPlace">${student.identityOnUser.birthplace}</span>                           	</c:when>                           	<c:otherwise><span class="studentInfoItemSection span7" id="birthPlace"></span></c:otherwise>                           </c:choose>                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}"><span class="studentInfoItemTitle span5">Home Address</span></c:when>                           	<c:otherwise><span class="studentInfoItemTitle span5">家庭住址</span></c:otherwise>                           </c:choose>                           <c:choose>                           	<c:when test="${not empty student.identityOnUser}">                           		<span class="studentInfoItemSection span7" id="home" style="font-size: 14px;">${student.identityOnUser.homeAddress}</span>                           	</c:when>                           	<c:otherwise><span class="studentInfoItemSection span7" id="home" style="font-size: 14px;"></span></c:otherwise>                           </c:choose>                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}"><span class="studentInfoItemTitle span5">Home Tel.</span></c:when>                           	<c:otherwise><span class="studentInfoItemTitle span5">电话</span></c:otherwise>                           </c:choose>                           <c:choose>                           	<c:when test="${not empty student.identityOnUser}">                           	 <span class="studentInfoItemSection span7" id="tel" style="font-size: 14px;">${student.identityOnUser.phone}</span>                           	</c:when>                           	<c:otherwise><span class="studentInfoItemSection span7" id="tel" style="font-size: 14px;"></span></c:otherwise>                           </c:choose>                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}"><span class="studentInfoItemTitle span5">Intermediary</span></c:when>                           	<c:otherwise><span class="studentInfoItemTitle span5">中介</span></c:otherwise>                           </c:choose>                           <c:if test="${student.schoolRoll.studentTypeId==1}">                           <c:choose>                           	<c:when test="${not empty student.visaOnUser and not empty student.visaOnUser.visa}">                           	 <span class="studentInfoItemSection span7" id="agent">${student.visaOnUser.visa.intermediaryName}</span>                           	</c:when>                           	<c:otherwise><span class="studentInfoItemSection span7" id="agent"></span></c:otherwise>                           </c:choose>                           </c:if>                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}"><span class="studentInfoItemTitle span5">Intermediary Tel.</span></c:when>                           	<c:otherwise><span class="studentInfoItemTitle span5">中介电话</span></c:otherwise>                           </c:choose>                           <c:if test="${student.schoolRoll.studentTypeId==1}">                           <c:choose>                           	<c:when test="${not empty student.visaOnUser and not empty student.visaOnUser.visa}">                           	 <span class="studentInfoItemSection span7" id="agentTel" style="font-size: 14px;">${student.visaOnUser.visa.intermediaryPhone}</span>                           	</c:when>                           	<c:otherwise><span class="studentInfoItemSection span7" id="agentTel" style="font-size: 14px;"></span></c:otherwise>                           </c:choose>                           </c:if>                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                         <c:choose>                         	<c:when test="${user.userTypeId==4}"><span class="studentInfoItemTitle span5">Guarantee Name</span></c:when>                         	<c:otherwise><span class="studentInfoItemTitle span5">担保人姓名</span></c:otherwise>                         </c:choose>                         <c:if test="${student.schoolRoll.studentTypeId==1}">                           <c:choose>                           	<c:when test="${not empty student.visaOnUser and not empty student.visaOnUser.visa and not empty student.visaOnUser.visa.guarantee}">                           	 <span class="studentInfoItemSection span7" id="securityName" style="font-size: 14px;">${student.visaOnUser.visa.guarantee.guaranteecName}</span>                           	</c:when>                           	<c:otherwise><span class="studentInfoItemSection span7" id="securityName" style="font-size: 14px;"></span></c:otherwise>                           </c:choose>                           </c:if>                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                         <c:choose>                         	<c:when test="${user.userTypeId==4}"><span class="studentInfoItemTitle span5">Guarantee Tel.</span></c:when>                         	<c:otherwise><span class="studentInfoItemTitle span5">担保人电话</span></c:otherwise>                         </c:choose>                         <c:if test="${student.schoolRoll.studentTypeId==1}">                         <c:choose>                         	<c:when test="${not empty student.visaOnUser and not empty student.visaOnUser.visa and not empty student.visaOnUser.visa.guarantee}">                         	 <span class="studentInfoItemSection span7" id="securityTel" style="font-size: 14px;">${student.visaOnUser.visa.guarantee.guaranteePhone}</span>                         	</c:when>                         	<c:otherwise><span class="studentInfoItemSection span7" id="securityTel" style="font-size: 14px;"></span></c:otherwise>                         </c:choose>                         </c:if>                         </div>                      </div>                                           <div class="col-md-6">                         <div class="studentInfoBlock">                         <c:choose>                         	<c:when test="${user.userTypeId==4}"><span class="studentInfoItemTitle span5">Deadline for Register</span></c:when>                         	<c:otherwise><span class="studentInfoItemTitle span5">注册截止时间</span></c:otherwise>                         </c:choose>                           <c:choose>                           	<c:when test="${not empty student.visaOnUser and not empty student.visaOnUser.visa}">                           	 <span class="studentInfoItemSection span7" id="regTimeLine" style="font-size: 14px;">${student.visaOnUser.visa.registerDeadLine}</span>                           	</c:when>                           	<c:otherwise><span class="studentInfoItemSection span7" id="regTimeLine" style="font-size: 14px;"></span></c:otherwise>                           </c:choose>                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                         <c:choose>                         	<c:when test="${user.userTypeId==4}"><span class="studentInfoItemTitle span5">Visa Due Date</span></c:when>                         	<c:otherwise><span class="studentInfoItemTitle span5">签证到期时间</span></c:otherwise>                         </c:choose>                         <c:if test="${student.schoolRoll.studentTypeId==1}">                           <c:choose>                            <c:when test="${not empty student.visaOnUser and not empty student.visaOnUser.visa}">                             <span class="studentInfoItemSection span7" id="visaTimeLine" style="font-size: 14px;">${student.visaOnUser.visa.visaDueDate}</span>                            </c:when>                            <c:otherwise><span class="studentInfoItemSection span7" id="visaTimeLine" style="font-size: 14px;"></span></c:otherwise>                           </c:choose>                           </c:if>                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}">                           		<span class="studentInfoItemTitle span5">202 Table</span>                           		<span class="studentInfoItemSection span7" id=""><a href="${pageContext.request.contextPath}/export.html?type=table&id=${student.userId}" class="btnNisal" target="_blank">Export</a></span>                           	</c:when>                           	<c:otherwise>                           		<span class="studentInfoItemTitle span5">202表&nbsp;</span>                           		<span class="studentInfoItemSection span7" id=""><a href="${pageContext.request.contextPath}/export.html?type=table&id=${student.userId}" class="btnNisal" target="_blank">导出</a></span>                           	</c:otherwise>                           </c:choose>                         </div>                      </div>                      <div class="col-md-6">                         <div class="studentInfoBlock">                           <c:choose>                           	<c:when test="${user.userTypeId==4}">                           		<span class="studentInfoItemTitle span5">Admission Notice</span>                           		<span class="studentInfoItemSection span7" id=""><a href="${pageContext.request.contextPath}/export.html?type=document&id=${student.userId}" class="btnNisal" target="_blank">Export</a></span>                           	</c:when>                           	<c:otherwise>                           		<span class="studentInfoItemTitle span5">入学通知书</span>                           		<span class="studentInfoItemSection span7" id=""><a href="${pageContext.request.contextPath}/export.html?type=document&id=${student.userId}" class="btnNisal" target="_blank">导出</a></span>                           	</c:otherwise>                           </c:choose>                         </div>                      </div>                      			            <hr class="hr-normal" />			                            </div>                  </div>                </div>              </div>                                   </div>          </div>          <hr class="hr-normal" />          			 <div class="row-fluid">			    <div class="span12 box bordered-box orange-border" style="margin-bottom:0;">			        <div class="box-header purple-background">			          <div class="title"><b>PASSPORT / ENTRY VISA / VISA</b></div>			          <div class="actions">			            <a id="" href="#" class="btn box-collapse btn-mini btn-link"><i></i></a>			          </div>			        </div>			        <div class="box-content box-no-padding">			          <div class="responsive-table">			           <div class="scrollable-area">			           <table class="table table-bordered table-striped" style="margin-bottom:0;" id="passportForm">			            <thead>			              <th>Select</th>			              <th>			              <select id="passportImgSelection" class="" name="">			              <c:if test="${not empty student.passportOnUsers}">			               <c:forEach items="${student.passportOnUsers}" var="picPath">			               	<option value="<%=basePath%>Passports/${picPath.passportPagePath}">${picPath.passportPagePath}</option>			               </c:forEach>			               </c:if>			              </select>			              </th>			            </thead>			           <tbody>			             <tr>			              <td>Picture</td>			              <td><img class="imger" id="studPicPath" src="" width="100%" alt=""></td>			              </tr>			              <tr>			               <td>Operate</td>			              <td>			             <a class="btnNisal download" href="#">Download</a>			                               <!--  &emsp;|&emsp;			               <form class="" method="post" style="display: inline;" enctype="multipart/form-data">			               <div style="margin:0;padding:0;display:inline">			               <input type="hidden" name="passportId" value="${student.passportOnUsers.get(0).passportId}"/>			               <input type="hidden" name="userId" value="${student.userId}"/>			               </div>			               	  <input type="file" id="uploadFile" title="Select Image" name="studPic" >			                  <input type="button" value="Submit" name="button" id="picBtn"/>			               </form> -->			             </td>			           </tr>			         </tbody>		           </table>		         </div>		        </div>		      </div>             </div>	       </div>		  <hr class="hr-normal" />	             </div>      </section>    </div>    <div id="blank" style="display: none;">      <img id="readyToPrint" src="" style="margin: auto;" alt="">    </div>    <!-- SCRIPTS -->    <script src="${pageContext.request.contextPath}/assets/js/update.js"></script>
     <script>     $("#updateBtn").click(function(){    	 $('#updateBtn').off('click');   	  $.ajax({ 			type:"post", 			url:"./studentInfo.html", 			data:{ 				"type":"initconfig", 			}, 			dataType:"json", 			success:function(data){ 				for(i in data[3]){ 					var opt = $('<option></option>'); 					opt.val(data[3][i].nationalityId); 					opt.html(data[3][i].cName); 					$('#newCountry').append(opt); 				} 				for(i in data[0]){ 					var opt = $('<option></option>'); 					opt.val(data[0][i].academyId); 					opt.html(data[0][i].cName); 					$('#newCoggle').append(opt); 				} 				for(i in data[2]){ 					var opt = $('<option></option>'); 					opt.val(data[2][i].classId); 					opt.html(data[2][i].cName); 					$('#newClass').append(opt); 				} 				for(i in data[4]){ 					var opt = $('<option></option>'); 					opt.val(data[4][i].educationTypeId); 					opt.html(data[4][i].cName); 					$('#newAcademic').append(opt); 				} 				for(i in data[5]){ 					var opt = $('<option></option>'); 					opt.val(data[5][i].rollStatusTypeId); 					opt.html(data[5][i].cName); 					$('#newState').append(opt); 				} 				for(i in data[1]){ 					var opt = $('<option></option>'); 					opt.val(data[1][i].majorId); 					opt.html(data[1][i].cName); 					$('#newMajor').append(opt); 				} 				for(i in data[7]){ 					var opt = $('<option></option>'); 					opt.val(data[7][i].guaranteeId); 					opt.html(data[7][i].guaranteecName); 					$('#guaranteeId').append(opt); 				} 				 			}, 			error:function(jqXHR){ 				layer.msg(jqXHR.status); 			}, 		});	   	$("#updateForm").slideDown("fast");	 	// 名字        window.stuName           = $($("#newName").val($("#name").html())).val();        // 学号        window.stuId             = $($("#newID").val($("#id").html())).val();        // e-mail        window.stuEmail          = $($("#newEMail").val($("#email").html())).val();        // 国籍        window.stuCountry        = $($("#newCountry").attr("value", $("#countryVal").val())).val();        // 国内手机号        window.stuAdjectivePhone = $($("#newAdjectivePhone").val($("#adjectivePhone").html())).val();        // 海外手机号        window.stuOverseasPhone  = $("#newOverseasPhone").val($("#overseasPhone").html()).val();        // 生日        window.stuBirthday       = $($("#newBirthday").val($("#birthday").html())).val();        // 学院        window.stuCoggle         = $("#newCoggle").attr("value", $("#coggleVal").val()).val();        // 专业        window.stuMajor          = $($("#newMajor").attr("value", $("#majorVal").val())).val();        // 班级        window.stuKlass          = $($("#newClass").attr("value", $("#classVal").val())).val();        // 寝室        window.stuBedroom        = $($("#newBedroom").val($("#bedroom").html())).val();        // 护照号        window.stuPassport       = $($("#newPassport").val($.trim($("#passport").html()))).val();        // 入校时间        window.stuInSchoolTime   = $($("#newInSchoolTime").val($("#inSchoolTime").html())).val();        // 毕业时间        window.stuGraduationTime = $($("#newGraduationTime").val($("#graduationTime").html())).val();        // 中介        window.stuAgent          = $($("#newAgent").val($("#agent").html())).val();        // 一卡通        window.stuEcard          = $($("#newECardNumber").val($("#ecard").html())).val();        // 婚姻状况        window.stuMarriage       = $($("#newMarriage").attr("value", $("#marriageVal").val())).val();        // 学历        window.stuAcademic       = $($("#newAcademic").attr("value", $("#academicVal").val())).val();        // 状态        window.stuState          = $($("#newState").attr("value", $("#stateVal").val())).val();        // 出生地        window.stuBirthPlace     = $($("#newBirthPlace").val($("#birthPlace").html())).val();        // 家庭住址        window.stuHome           = $($("#newHome").val($("#home").html())).val();        // 电话        window.stuTel            = $($("#newTel").val($("#tel").html())).val();        // 中介电话        window.stuAgentTel       = $($("#newAgentPhone").val($("#agentTel").html())).val();        // 担保人姓名        window.stuSecurityName   = $($("#newSecurityName").val($("#securityName").html())).val();        // 担保人手机号        window.stuSecurityTel    = $($("#newSecurityTel").val($("#securityTel").html())).val();        // 注册截止时间        window.stuRegTimeLine    = $($("#newRegTimeLine").val($("#regTimeLine").html())).val();        // 签证到期时间        window.stuVisaTimeLine   = $($("#newVisaTimeLine").val($("#visaTimeLine").html())).val();                $("#s2id_newState").find("span").html($("#state").html());        // 修改国家显示        $("#s2id_newCountry").find("span").html($("#country").html());        // 修改学院显示        $("#s2id_newCoggle").find("span").html($("#coggle").html());        // 修改专业显示        $("#s2id_newMajor").find("span").html($("#major").html());        // 修改班级显示        $("#s2id_newClass").find("span").html($("#class").html());        // 修改婚姻状况显示        $("#s2id_newMarriage").find("span").html($("#marriage").html());        // 修改学历显示        $("#s2id_newAcademic").find("span").html($("#academic").html());                $("#s2id_guaranteeId").find("span").html($("#securityName").html());        $('#guaranteeId option').each(function(){        	        	if($.trim($(this).html()) === $("#securityName").html()){        		$('#guaranteeId').val($(this).val());        		return;        	}        });     });     </script>        <script type="text/javascript">      $(document).ready(function(){    	  //加载图片    	  var picPath=$('#passportImgSelection option:selected').val();          $('#studPicPath').attr("src",picPath);        $("#visaImgSelection").click(function(){          stuPicWatch("#visaForm", $("#oid").val(), "visa", $(this).val());        });        $("#passportImgSelection").click(function(){          stuPicWatch("#passportForm", $("#oid").val(), "passport", $(this).val());          var picPath=$('#passportImgSelection option:selected').val();          $('#studPicPath').attr("src",picPath);        });        $("#entryImgSelection").click(function(){          stuPicWatch("#entryForm", $("#oid").val(), "entry", $(this).val());        });        $(".download").click(function(){          window.open($(this).parent().parent().parent().find(".imger").attr("src"));          return false;        });      });    </script>
  </body></html>